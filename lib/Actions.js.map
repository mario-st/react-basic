{"version":3,"sources":["Actions.jsx"],"names":[],"mappings":"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","file":"Actions.js","sourcesContent":["\"use strict\";\r\n\r\nimport Ajax from './Ajax';\r\n\r\nexport const PENDING_LOAD   = 'pending_load';\r\nexport const PENDING_SAVE   = 'pending_save';\r\nexport const PENDING_ADD    = 'pending_add';\r\nexport const PENDING_EDIT   = 'pending_edit';\r\nexport const PENDING_DELETE = 'pending_delete';\r\n\r\nexport const LOAD   = 'load';\r\nexport const ADD    = 'add';\r\nexport const EDIT   = 'edit';\r\nexport const DELETE = 'delete';\r\n\r\nexport default class Actions {\r\n    constructor (url, request, dispatcher) {\r\n        this._dispatcher = dispatcher;\r\n        this._ajax       = new Ajax(request, dispatcher);\r\n        this._url        = url;\r\n    }\r\n\r\n    setUrl (url) {\r\n        this._url = url;\r\n    }\r\n\r\n    upload () {\r\n        throw new Error(\"not implemented, yet.\");\r\n    }\r\n\r\n    load (query) {\r\n        this._dispatcher.dispatch({ action: PENDING_LOAD });\r\n        if (\"object\" === query) {\r\n            this._ajax.get(LOAD, this._url, query);\r\n        } else {\r\n            this._ajax.get(LOAD, this._url + query);\r\n        }\r\n    }\r\n\r\n    save (payload) {\r\n        let id = payload._id || payload.id;\r\n        this._dispatcher.dispatch({ action: PENDING_SAVE, data: payload });\r\n        if (id) {\r\n            this._ajax.put(ADD, this._url + id, null, payload);\r\n        } else {\r\n            this._ajax.post(ADD, this._url, null, payload);\r\n        }\r\n    }\r\n\r\n    add (payload) {\r\n        this._dispatcher.dispatch({ action: PENDING_ADD, data: payload });\r\n        this._ajax.post(ADD, this._url, null, payload);\r\n    }\r\n\r\n    edit (payload) {\r\n        let id = payload._id || payload.id;\r\n        this._dispatcher.dispatch({ action: PENDING_EDIT, data: payload });\r\n        this._ajax.put(EDIT, this._url, null, payload);\r\n    }\r\n\r\n    del (id) {\r\n        this._dispatcher.dispatch({ action: PENDING_DELETE });\r\n        this._ajax.del(DELETE, this._url + id);\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}